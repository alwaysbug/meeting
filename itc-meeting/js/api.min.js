var api={host:"http://www.unitsyscloud.org/api/",post:function(b,c,a){$.ajax({type:"post",url:api.host+b,data:c,dataType:"json",success:function(d){a(d)}})},asyncPost:function(b,c,a){api.checkCookieOrSession();$.ajax({type:"post",url:api.host+b,data:c,async:false,dataType:"json",beforeSend:function(d){d.setRequestHeader("Authorization",api.checkCookieOrSession())},success:function(d){a(d)}})},userPost:function(b,c,a){api.checkCookieOrSession();$.ajax({type:"post",url:api.host+b,data:c,dataType:"json",beforeSend:function(d){d.setRequestHeader("Authorization",api.checkCookieOrSession())},success:function(d){a(d)}})},get:function(b,c,a){api.checkCookieOrSession();$.ajax({type:"get",url:api.host+b,dataType:"json",data:c,beforeSend:function(d){d.setRequestHeader("Authorization",api.checkCookieOrSession())},success:function(d){a(d)}})},asyncGet:function(b,c,a){api.checkCookieOrSession();$.ajax({type:"get",url:api.host+b,dataType:"json",data:c,async:false,beforeSend:function(d){d.setRequestHeader("Authorization",api.checkCookieOrSession())},success:function(d){a(d)}})},deleteIt:function(b,c,a){api.checkCookieOrSession();$.ajax({type:"delete",url:api.host+b,data:c,beforeSend:function(d){d.setRequestHeader("Authorization",api.checkCookieOrSession())},success:function(d){a(d)}})},uploadFile:function(b,c,a){api.checkCookieOrSession();$.ajax({type:"post",url:api.host+b,data:c,contentType:"application/form-data",processData:false,beforeSend:function(d){d.setRequestHeader("Authorization",api.checkCookieOrSession())},success:function(d){a(d)}})},checkCookieOrSession:function(){var a=sessionStorage.token;if(!a){window.location.href="register.html?login"}else{return a}},getCookie:function(a){if(document.cookie.length>0){c_start=document.cookie.indexOf(a+"=");if(c_start!=-1){c_start=c_start+a.length+1;c_end=document.cookie.indexOf(";",c_start);if(c_end==-1){c_end=document.cookie.length}return unescape(document.cookie.substring(c_start,c_end))}}},setCookie:function(b,c,a){var d=new Date();d.setDate(d.getDate()+a);document.cookie=b+"="+escape(c)+((a==null)?"":";expires="+d.toGMTString())}};